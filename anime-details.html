<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Магическая битва - ShoxaHub</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #ff4757;
            --dark: #1a1a2e;
            --dark-secondary: #2a2a3e;
            --light: #f1f2f6;
            --gray: #a1a1aa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }

        body {
            background-color: var(--dark);
            color: var(--light);
            min-height: 100vh;
        }

        /* Header */
        header {
            background-color: var(--dark-secondary);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo i {
            font-size: 1.5rem;
        }

        .back-btn {
            color: var(--light);
            text-decoration: none;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: color 0.3s;
        }

        .back-btn:hover {
            color: var(--primary);
        }

        /* Season Selector */
        .season-selector {
            display: flex;
            justify-content: center;
            margin: 1rem 0;
            gap: 1rem;
        }

        .season-btn {
            background-color: var(--dark-secondary);
            color: var(--light);
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .season-btn.active {
            background-color: var(--primary);
            transform: scale(1.05);
        }

        .season-btn:hover:not(.active) {
            background-color: var(--dark);
        }

        /* Anime Details */
        .anime-details-container {
            max-width: 1200px;
            margin: 0 auto 2rem;
            padding: 0 2rem;
        }

        .anime-header {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .anime-poster {
            width: 300px;
            height: 450px;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .anime-info {
            flex: 1;
        }

        .anime-title {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .anime-meta {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--gray);
        }

        .anime-rating {
            color: gold;
            font-weight: 500;
        }

        .anime-status {
            background-color: var(--primary);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 5px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .anime-description {
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .anime-details {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .detail-item {
            background-color: var(--dark-secondary);
            padding: 1rem;
            border-radius: 8px;
        }

        .detail-label {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .detail-value {
            font-size: 1.1rem;
        }

        /* Video Player */
        .video-player {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .video-player.active {
            display: flex;
        }

        .video-container {
            width: 80%;
            max-width: 1000px;
            position: relative;
        }

        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
        }

        .video-wrapper video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .close-player {
            position: absolute;
            top: -40px;
            right: 0;
            color: white;
            font-size: 30px;
            cursor: pointer;
            background-color: var(--primary);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .player-controls {
            display: flex;
            justify-content: space-between;
            background-color: var(--dark-secondary);
            padding: 10px;
            border-radius: 0 0 8px 8px;
        }

        .control-btn {
            background: none;
            border: none;
            color: var(--light);
            font-size: 18px;
            cursor: pointer;
            margin: 0 5px;
        }

        .progress-container {
            flex-grow: 1;
            margin: 0 10px;
            display: flex;
            align-items: center;
        }

        .progress-bar {
            width: 100%;
            height: 5px;
            background-color: var(--gray);
            border-radius: 5px;
            cursor: pointer;
        }

        .progress {
            height: 100%;
            background-color: var(--primary);
            border-radius: 5px;
            width: 0%;
        }

        .time-display {
            color: var(--light);
            font-size: 14px;
            min-width: 80px;
            text-align: center;
        }

        /* Episodes */
        .episodes-section {
            margin-top: 3rem;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .section-title i {
            color: var(--primary);
        }

        .episodes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
        }

        .episode-card {
            background-color: var(--dark-secondary);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            transition: transform 0.3s;
            cursor: pointer;
        }

        .episode-card:hover {
            transform: translateY(-5px);
            background-color: var(--primary);
        }

        .episode-number {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .episode-title {
            font-size: 0.9rem;
            color: var(--gray);
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        /* Watch Now Button */
        .watch-now-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .watch-now-btn:hover {
            opacity: 0.9;
        }

        /* Video Component */
        .video-component {
            margin: 2rem 0;
        }
        
        .video-preview {
            position: relative;
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            margin-bottom: 2rem;
        }
        
        .preview-image {
            width: 100%;
            display: block;
        }
        
        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 71, 87, 0.8);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 25px;
            transition: all 0.3s;
        }
        
        .play-button:hover {
            background-color: var(--primary);
            transform: translate(-50%, -50%) scale(1.1);
        }

        /* Season Content */
        .season-content {
            display: none;
        }

        .season-content.active {
            display: block;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .anime-header {
                flex-direction: column;
            }

            .anime-poster {
                width: 100%;
                height: auto;
                max-height: 400px;
            }

            .anime-details {
                grid-template-columns: 1fr 1fr;
            }

            .video-container {
                width: 95%;
            }

            .close-player {
                top: -50px;
                right: -10px;
            }
            
            .play-button {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .episode-title {
                -webkit-line-clamp: 1;
                line-clamp: 1;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <a href="index.html" class="back-btn">
            <i class="fas fa-arrow-left"></i>
            Назад
        </a>
        
        <div class="logo">
            <i class="fas fa-play-circle"></i>
            <span>ShoxaHub</span>
        </div>

        <div style="width: 40px;"></div>
    </header>

    <!-- Season Selector -->
    <div class="season-selector">
        <button class="season-btn active" data-season="1">Сезон 1</button>
        <button class="season-btn" data-season="2">Сезон 2</button>
        <button class="season-btn" data-season="0">Фильм</button>
    </div>

    <!-- Season 1 Content -->
    <div class="season-content active" id="season1">
        <div class="anime-details-container">
            <div class="anime-header">
                <img src="https://avatars.mds.yandex.net/i?id=b66e6ad09a1610834db634562191bd530746ef1b-4216669-images-thumbs&n=13" alt="Магическая битва" class="anime-poster">
                <div class="anime-info">
                    <h1 class="anime-title">Магическая битва (Сезон 1)</h1>
                    <div class="anime-meta">
                        <span>2020</span>
                        <span>24 серии</span>
                        <span class="anime-rating">★ 4.9</span>
                        <span class="anime-status">Завершен</span>
                    </div>
                    <p class="anime-description">
                        Юдзи Итадори — необычный школьник, который живет с дедом. Однажды его дедушка умирает, оставив Юдзи последние слова: «Всегда помогай людям» и «Умри окруженный людьми». Юдзи решает следовать завещанию деда и присоединяется к оккультному клубу. Однажды члены клуба находят запечатанный талисман, который при вскрытии выпускает проклятие. Юдзи, чтобы спасти своих друзей, проглатывает талисман и становится сосудом для могущественного проклятия — Рёмена Сукуны.
                    </p>
                    
                    <div class="anime-details">
                        <div class="detail-item">
                            <div class="detail-label">Тип</div>
                            <div class="detail-value">TV Сериал</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Жанры</div>
                            <div class="detail-value">Сёнэн, Экшен, Фэнтези</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Студия</div>
                            <div class="detail-value">MAPPA</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Длительность</div>
                            <div class="detail-value">24 мин.</div>
                        </div>
                    </div>
                    
                    <button class="watch-now-btn" id="watchNowBtn1">
                        Смотреть сейчас
                    </button>
                </div>
            </div>

            <!-- Video Component -->
            <div class="video-component">
                <h2 class="section-title">
                    <i class="fas fa-video"></i>
                    Трейлер
                </h2>
                <div class="video-preview" id="trailerPreview1">
                    <img src="https://avatars.mds.yandex.net/i?id=dd9e654dff51e81d916f8b0323956629d9c287d1-5009165-images-thumbs&n=13" alt="Превью трейлера" class="preview-image">
                    <div class="play-button">
                        <i class="fas fa-play"></i>
                    </div>
                </div>
            </div>

            <!-- Episodes -->
            <div class="episodes-section">
                <h2 class="section-title">
                    <i class="fas fa-list-ol"></i>
                    Серии
                </h2>
                <div class="episodes-grid" id="episodesGrid1">
                    <!-- Сезон 1 -->
                    <div class="episode-card" data-episode="1">
                        <div class="episode-number">Серия 1</div>
                        <div class="episode-title">Двуликий призрак</div>
                    </div>
                    <div class="episode-card" data-episode="2">
                        <div class="episode-number">Серия 2</div>
                        <div class="episode-title">Ради себя</div>
                    </div>
                    <div class="episode-card" data-episode="3">
                        <div class="episode-number">Серия 3</div>
                        <div class="episode-title">Железная девушка</div>
                    </div>
                    <div class="episode-card" data-episode="4">
                        <div class="episode-number">Серия 4</div>
                        <div class="episode-title">Устранение сферы с проклятием (часть 1)</div>
                    </div>
                    <div class="episode-card" data-episode="5">
                        <div class="episode-number">Серия 5</div>
                        <div class="episode-title">Устранение сферы с проклятием (часть 2)</div>
                    </div>
                    <div class="episode-card" data-episode="6">
                        <div class="episode-number">Серия 6</div>
                        <div class="episode-title">После дождя</div>
                    </div>
                    <div class="episode-card" data-episode="7">
                        <div class="episode-number">Серия 7</div>
                        <div class="episode-title">Нападение</div>
                    </div>
                    <div class="episode-card" data-episode="8">
                        <div class="episode-number">Серия 8</div>
                        <div class="episode-title">Скучный</div>
                    </div>
                    <div class="episode-card" data-episode="9">
                        <div class="episode-number">Серия 9</div>
                        <div class="episode-title">Мелкая сошка и «обратная» месть</div>
                    </div>
                    <div class="episode-card" data-episode="10">
                        <div class="episode-number">Серия 10</div>
                        <div class="episode-title">Инертная трансформация</div>
                    </div>
                    <div class="episode-card" data-episode="11">
                        <div class="episode-number">Серия 11</div>
                        <div class="episode-title">Узколобость</div>
                    </div>
                    <div class="episode-card" data-episode="12">
                        <div class="episode-number">Серия 12</div>
                        <div class="episode-title">Ради прежнего тебя</div>
                    </div>
                    <div class="episode-card" data-episode="13">
                        <div class="episode-number">Серия 13</div>
                        <div class="episode-title">Увидимся завтра</div>
                    </div>
                    <div class="episode-card" data-episode="14">
                        <div class="episode-number">Серия 14</div>
                        <div class="episode-title">Программа обмена с киотской школой (часть 0)</div>
                    </div>
                    <div class="episode-card" data-episode="15">
                        <div class="episode-number">Серия 15</div>
                        <div class="episode-title">Программа обмена с киотской школой (часть 1)</div>
                    </div>
                    <div class="episode-card" data-episode="16">
                        <div class="episode-number">Серия 16</div>
                        <div class="episode-title">Программа обмена с киотской школой (часть 2)</div>
                    </div>
                    <div class="episode-card" data-episode="17">
                        <div class="episode-number">Серия 17</div>
                        <div class="episode-title">Программа обмена с киотской школой (часть 3)</div>
                    </div>
                    <div class="episode-card" data-episode="18">
                        <div class="episode-number">Серия 18</div>
                        <div class="episode-title">Мудрец</div>
                    </div>
                    <div class="episode-card" data-episode="19">
                        <div class="episode-number">Серия 19</div>
                        <div class="episode-title">Чёрная молния</div>
                    </div>
                    <div class="episode-card" data-episode="20">
                        <div class="episode-number">Серия 20</div>
                        <div class="episode-title">Нестандартный</div>
                    </div>
                    <div class="episode-card" data-episode="21">
                        <div class="episode-number">Серия 21</div>
                        <div class="episode-title">Магический "Косиэн"</div>
                    </div>
                    <div class="episode-card" data-episode="22">
                        <div class="episode-number">Серия 22</div>
                        <div class="episode-title">Истоки слепой покорности (часть 1)</div>
                    </div>
                    <div class="episode-card" data-episode="23">
                        <div class="episode-number">Серия 23</div>
                        <div class="episode-title">Истоки слепой покорности (часть 2)</div>
                    </div>
                    <div class="episode-card" data-episode="24">
                        <div class="episode-number">Серия 24</div>
                        <div class="episode-title">Сообщники</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Season 2 Content -->
    <div class="season-content" id="season2">
        <div class="anime-details-container">
            <div class="anime-header">
                <img src="https://avatars.mds.yandex.net/i?id=a341cd7bfb3296f9d878a5dcc5bdbf7b816f1dbf-5888529-images-thumbs&n=13" alt="Магическая битва 2" class="anime-poster">
                <div class="anime-info">
                    <h1 class="anime-title">Магическая битва (Сезон 2)</h1>
                    <div class="anime-meta">
                        <span>2023</span>
                        <span>23 серии</span>
                        <span class="anime-rating">★ 5.0</span>
                        <span class="anime-status">Завершен</span>
                    </div>
                    <p class="anime-description">
                        Второй сезон "Магической битвы" фокусируется на арке "Сокрытие" и рассказывает о прошлом Сатору Годзё и Сугуру Гэто. События разворачиваются за 10 лет до начала основной истории, показывая, как молодые Годзё и Гэто стали самыми сильными магами. Вторая часть сезона посвящена арке "Переворот", где проклятия начинают масштабную атаку на мир людей.
                    </p>
                    
                    <div class="anime-details">
                        <div class="detail-item">
                            <div class="detail-label">Тип</div>
                            <div class="detail-value">TV Сериал</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Жанры</div>
                            <div class="detail-value">Сёнэн, Экшен, Драма</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Студия</div>
                            <div class="detail-value">MAPPA</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Длительность</div>
                            <div class="detail-value">24 мин.</div>
                        </div>
                    </div>
                    
                    <button class="watch-now-btn" id="watchNowBtn2">
                        Смотреть сейчас
                    </button>
                </div>
            </div>

            <!-- Video Component -->
            <div class="video-component">
                <h2 class="section-title">
                    <i class="fas fa-video"></i>
                    Трейлер
                </h2>
                <div class="video-preview" id="trailerPreview2">
                    <img src="https://avatars.mds.yandex.net/i?id=d818a3aef9b6838c770eb5476ba1d1a1aa70807c-5896019-images-thumbs&n=13" alt="Превью трейлера" class="preview-image">
                    <div class="play-button">
                        <i class="fas fa-play"></i>
                    </div>
                </div>
            </div>

            <!-- Episodes -->
            <div class="episodes-section">
                <h2 class="section-title">
                    <i class="fas fa-list-ol"></i>
                    Серии
                </h2>
                <div class="episodes-grid" id="episodesGrid2">
                    <!-- Арка "Сокрытие" (1-5 серии) -->
                    <div class="episode-card" data-episode="1">
                        <div class="episode-number">Серия 1</div>
                        <div class="episode-title">Скрытый питомник 1</div>
                    </div>
                    <div class="episode-card" data-episode="2">
                        <div class="episode-number">Серия 2</div>
                        <div class="episode-title">Скрытый питомник 2</div>
                    </div>
                    <div class="episode-card" data-episode="3">
                        <div class="episode-number">Серия 3</div>
                        <div class="episode-title">Скрытый питомник 3</div>
                    </div>
                    <div class="episode-card" data-episode="4">
                        <div class="episode-number">Серия 4</div>
                        <div class="episode-title">Скрытый питомник 4</div>
                    </div>
                    <div class="episode-card" data-episode="5">
                        <div class="episode-number">Серия 5</div>
                        <div class="episode-title">Скрытый питомник 5</div>
                    </div>
                    
                    <!-- Арка "Переворот" (6-23 серии) -->
                    <div class="episode-card" data-episode="6">
                        <div class="episode-number">Серия 6</div>
                        <div class="episode-title">Гром среди ясного неба</div>
                    </div>
                    <div class="episode-card" data-episode="7">
                        <div class="episode-number">Серия 7</div>
                        <div class="episode-title">Месть</div>
                    </div>
                    <div class="episode-card" data-episode="8">
                        <div class="episode-number">Серия 8</div>
                        <div class="episode-title">Искажение</div>
                    </div>
                    <div class="episode-card" data-episode="9">
                        <div class="episode-number">Серия 9</div>
                        <div class="episode-title">Искажение, часть 2</div>
                    </div>
                    <div class="episode-card" data-episode="10">
                        <div class="episode-number">Серия 10</div>
                        <div class="episode-title">Пустота</div>
                    </div>
                    <div class="episode-card" data-episode="11">
                        <div class="episode-number">Серия 11</div>
                        <div class="episode-title">Схватка</div>
                    </div>
                    <div class="episode-card" data-episode="12">
                        <div class="episode-number">Серия 12</div>
                        <div class="episode-title">День, когда всё изменилось</div>
                    </div>
                    <div class="episode-card" data-episode="13">
                        <div class="episode-number">Серия 13</div>
                        <div class="episode-title">Гром</div>
                    </div>
                    <div class="episode-card" data-episode="14">
                        <div class="episode-number">Серия 14</div>
                        <div class="episode-title">Осознание</div>
                    </div>
                    <div class="episode-card" data-episode="15">
                        <div class="episode-number">Серия 15</div>
                        <div class="episode-title">Восход</div>
                    </div>
                    <div class="episode-card" data-episode="16">
                        <div class="episode-number">Серия 16</div>
                        <div class="episode-title">Ты особенный</div>
                    </div>
                    <div class="episode-card" data-episode="17">
                        <div class="episode-number">Серия 17</div>
                        <div class="episode-title">Право на жизнь</div>
                    </div>
                    <div class="episode-card" data-episode="18">
                        <div class="episode-number">Серия 18</div>
                        <div class="episode-title">Право на жизнь, часть 2</div>
                    </div>
                    <div class="episode-card" data-episode="19">
                        <div class="episode-number">Серия 19</div>
                        <div class="episode-title">Сильнейший экзорцист</div>
                    </div>
                    <div class="episode-card" data-episode="20">
                        <div class="episode-number">Серия 20</div>
                        <div class="episode-title">Сильнейший экзорцист, часть 2</div>
                    </div>
                    <div class="episode-card" data-episode="21">
                        <div class="episode-number">Серия 21</div>
                        <div class="episode-title">Метаморфоза</div>
                    </div>
                    <div class="episode-card" data-episode="22">
                        <div class="episode-number">Серия 22</div>
                        <div class="episode-title">Метаморфоза, часть 2</div>
                    </div>
                    <div class="episode-card" data-episode="23">
                        <div class="episode-number">Серия 23</div>
                        <div class="episode-title">Свет</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Movie 0 Content -->
     <div class="season-content" id="season0">
        <div class="anime-details-container">
            <div class="anime-header">
                <img src="https://avatars.mds.yandex.net/i?id=2ccdefb055a35e72f050001caa0a5c7314e4e775-12539815-images-thumbs&n=13" alt="Магическая битва 0" class="anime-poster">
                <div class="anime-info">
                    <h1 class="anime-title">Магическая битва 0</h1>
                    <div class="anime-meta">
                        <span>2021</span>
                        <span>Фильм</span>
                        <span class="anime-rating">★ 5.0</span>
                        <span class="anime-status">Завершен</span>
                    </div>
                    <p class="anime-description">
                        Фильм "Магическая битва 0" рассказывает историю Юты Оккоцу, студента магической школы, который становится сосудом для могущественного проклятия - своего погибшего друга Рики. Юта попадает под опеку Сатору Годзё и пытается контролировать силу проклятия, в то время как зловещая организация магов планирует использовать его силу для своих целей.
                    </p>

                    <div class="anime-details">
                        <div class="detail-item">
                            <div class="detail-label">Тип</div>
                            <div class="detail-value">Фильм</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Жанры</div>
                            <div class="detail-value">Сёнэн, Экшен, Драма</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Студия</div>
                            <div class="detail-value">МАРРА</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Длительность</div>
                            <div class="detail-value">105 мин.</div>
                        </div>
                    </div>

                    <button class="watch-now-btn" id="watchNowBtn0">
                        Смотреть Фильм
                    </button>
                </div>
            </div>
        </div>
     </div>

    <!-- Video Player -->
    <div class="video-player" id="videoPlayer">
        <div class="video-container">
            <span class="close-player" id="closePlayer">&times;</span>
            <div class="video-wrapper">
                <video id="mainVideo" controls>
                    Ваш браузер не поддерживает HTML5 видео.
                </video>
            </div>
            <div class="player-controls">
                <button class="control-btn" id="playPauseBtn"><i class="fas fa-play"></i></button>
                <button class="control-btn" id="muteBtn"><i class="fas fa-volume-up"></i></button>
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar">
                        <div class="progress" id="progress"></div>
                    </div>
                </div>
                <span class="time-display" id="timeDisplay">00:00 / 00:00</span>
                <button class="control-btn" id="fullscreenBtn"><i class="fas fa-expand"></i></button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Video elements
            const videoPlayer = document.getElementById('videoPlayer');
            const mainVideo = document.getElementById('mainVideo');
            const closePlayer = document.getElementById('closePlayer');
            
            // Controls
            const playPauseBtn = document.getElementById('playPauseBtn');
            const muteBtn = document.getElementById('muteBtn');
            const progressBar = document.getElementById('progressBar');
            const progress = document.getElementById('progress');
            const timeDisplay = document.getElementById('timeDisplay');
            const fullscreenBtn = document.getElementById('fullscreenBtn');
            
            // Season elements
            const seasonBtns = document.querySelectorAll('.season-btn');
            const seasonContents = document.querySelectorAll('.season-content');
            
            // Video sources for both seasons
            const videoSources = {
                // Season 1
                '1-1': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/1.1080.812841b2c0546248.mp4?hash1=dd92706af0aded76c83ed15aad977733&hash2=c743d041106e431114df10daff2eacc7',
                '1-2': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/2.1080.00e82869f54154d8.mp4?hash1=7cb557f42b9887b6b0157e54037a1dee&hash2=45cf6475310b4de97c24beb1a8c3753f',
                '1-3': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/3.1080.3ab1a0c4b449d8f9.mp4?hash1=c0d639c10c87d86ae345aaf2775e8c6a&hash2=23c17eef07f2628b82444742f65e57a1',
                '1-4': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/4.1080.5afac34dc6a02441.mp4?hash1=cf29a24de20575cec7a20e023d3d09bc&hash2=ef31f3c6946de7492aeaf22750a90675',
                '1-5': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/5.1080.77668105d0144c85.mp4?hash1=0977879b2610f53218d846bec52ccda4&hash2=7cb6036879223cb21ef89afd5d03f5af',
                '1-6': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/6.1080.2ff0fc838dec1fdb.mp4?hash1=6b30bca082e985c7b58263756c662e81&hash2=0a372a6b81d8c24935d8645817fc7069',
                '1-7': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/7.1080.4bea854e963c8b1f.mp4?hash1=2c1f5f10881b7497815f32258cddd515&hash2=b2c094d0c06d3d6611fd45514328d2d0',
                '1-8': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/8.1080.0abefed5f16abfd1.mp4?hash1=092c1e122aa4d3594c7f4bc83905e067&hash2=6cdfdb2f199a565475d6077c8f1f3884',
                '1-9': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/9.1080.37194b300b4e8ed0.mp4?hash1=0bb3fbe3b2bf58c8bb29323552b75b12&hash2=e9789fc9f78942d6e14ab813e49325ed',
                '1-10': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/10.1080.8bfb6637c3a3f051.mp4?hash1=d934061bb107e6e171a18c2ea0354f3c&hash2=c1f1f112b0c0ecef9b5976ebe738290a',
                '1-11': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/11.1080.36ed0ca4fe3a9d1a.mp4?hash1=236462a742b230a69edcc4403777b697&hash2=7353e5a8b299cf3b24d3a1264b0f40ea',
                '1-12': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/12.1080.dc5054caedb7fdb2.mp4?hash1=7adf2158db504791c58b26cdb9878f75&hash2=69bdd5f2df4c33220fe214be4ca0b388',
                '1-13': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/13.1080.063826a2b9561103.mp4?hash1=60938f7221ae9b0e3807f31737e3b4f6&hash2=2c91f9c22f13d951f1b7fdb293ea1f02',
                '1-14': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/14.1080.0b623bfabae0b819.mp4?hash1=8cb30606bf06716762a19ea6284b1492&hash2=451e514858ce34ce0e64c6342f47fa5d',
                '1-15': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/15.1080.2fb1c47fdd60087f.mp4?hash1=febaf745842f7e2584f4f5d87dd21d67&hash2=690f05413d2171b07908f0f21b384799',
                '1-16': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/16.1080.930dcd5139a2487b.mp4?hash1=730ee443b3c14193de323d88285d654d&hash2=32921f029e182df18ac5961331b4d3ff',
                '1-17': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/17.1080.679341b7ad77c53d.mp4?hash1=e6d1aec2b3fe1f711d57c5b3136ea30d&hash2=5ea2ff71976e32e7d79eab7fa76148a4',
                '1-18': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/18.1080.28785045279e89ba.mp4?hash1=6bd6a1d40017b496920e20f260d7671e&hash2=918bb1b5cc31ac3a32c7d30e3fde7a04',
                '1-19': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/19.1080.1aff3e9c81b13bc6.mp4?hash1=8de0866a5cfeaebfe3dc207dd700ff12&hash2=713cab2f9bc3dbe55a7f87b5673b355d',
                '1-20': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/20.1080.786d472c5c6a0dd4.mp4?hash1=326acf89c352a4eaa82b09bb08933b76&hash2=26356ae1df2cae516f4b568c301bef21',
                '1-21': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/21.1080.29e9c4afa26ead99.mp4?hash1=4ba6ff3bcdf1ce4d12edccc4a643cb61&hash2=b1d4f84b18d022d0214f8ee3100872d7',
                '1-22': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/22.1080.d9e09f173732c071.mp4?hash1=0632f894e656fefda24d76d06fb1f3fb&hash2=ae95189af78c47739c48afb17fe29356',
                '1-23': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/23.1080.739f1060f648647e.mp4?hash1=21313dc673b621ddfe9301e64c16f463&hash2=b4b74c270107198bfc8960f8a0acc33d',
                '1-24': 'https://r812131.yandexwebcache.org/jujutsu-kaisen/24.1080.bf203e7ec5830642.mp4?hash1=b5bf4f445c78d4c042982a3ce32db364&hash2=9bc93d7569f23668e2754c78690d5fd0',
                '1-trailer': 'video_2025-06-14_17-24-54.mp4',
                
                // Season 2
                '2-1': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/1.1080.84abe3cb023f9ef6.mp4?hash1=9f7858b6cdef587e1e53ca1cdd186010&hash2=3a4a42519323302527438c1a8d375402',
                '2-2': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/2.1080.94e8cb7295ad80b5.mp4?hash1=a2b9761726660b2802bd6a33d68a330d&hash2=7b914e95b9900e68c22eb601cef66a8e',
                '2-3': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/3.1080.4754a3e7a13503e0.mp4?hash1=fb570d3759ac05db05670a8466ada1c5&hash2=c798ae2fdb92039e09658a7f3a450992',
                '2-4': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/4.1080.6839ca2d1c349737.mp4?hash1=eccde8590a049a6c0d61664bd041000b&hash2=925e61b1da485c053fa5c72764daaa07',
                '2-5': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/5.1080.b43ae9bf3bcb8c2c.mp4?hash1=4cee563ab6457a701a768adab61c95eb&hash2=0fecf2dd66327031b2819af0a20558cf',
                '2-6': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/6.1080.23d6105476663507.mp4?hash1=13858ca18bf00d2bf74e90bbd5249ece&hash2=2900da858de24ed46b86281f9c8b9bcc',
                '2-7': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/7.1080.9af6168d9620f041.mp4?hash1=0de9534cec6219e8af615b27974450de&hash2=31826fc421e452363cfb204a79562273',
                '2-8': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/8.1080.a40c9fae1071a082.mp4?hash1=2107041239dd66418537b9d79cd5f6f4&hash2=34398a823ed37fa58ba219cb37109853',
                '2-9': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/9.1080.6ef42818ee9ee3c0.mp4?hash1=c520857590e90235395bd25c206b575a&hash2=db3161e1f200b96b78dc531d02eb7355',
                '2-10': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/10.1080.55b1f8757d1c0544.mp4?hash1=e0cc97f2c0feab8d4c8494e441dff408&hash2=d11eb63c8a10846241b13a723f34ff0e',
                '2-11': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/11.1080.0c7919feb6e17390.mp4?hash1=76d3ae19214775224ba92445c564b862&hash2=e780168a45a7f443e662ac28f859561f',
                '2-12': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/12.1080.6a098b8a795dbdaa.mp4?hash1=820b2f9c3ebf859506be7254f6833afb&hash2=696c2321656034818265929b60fd36d6',
                '2-13': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/13.1080.e5a67963e6257bf3.mp4?hash1=2530276a1c89aa6cc2584a48e6af6c95&hash2=d9ca5ade8393f631184f3987f9abb88b',
                '2-14': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/14.1080.209c22f949bac77f.mp4?hash1=ac596febe3953d0786e02ce48c11990f&hash2=d930b3b771a545d2b8ead4fd7862ce9d',
                '2-15': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/15.1080.0b54ba6c9e582ad8.mp4?hash1=ffe519bb6e68b9b57f4b4e226f191695&hash2=76a84b13938ea20d607faba67f3e893c',
                '2-16': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/16.1080.884558d59504f7af.mp4?hash1=ab8f88875d8c1d1aa4e7e004ef0d7a0e&hash2=3bceafebbe9e4e3821538320407c0644',
                '2-17': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/17.1080.3a0d3ab822a06b92.mp4?hash1=17f99d0ca004577313c8a108d490ad70&hash2=de266701cfbedc053f04deb124d922f4',
                '2-18': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/18.1080.470958e18690a00d.mp4?hash1=443c844cbf1b08b89d4b0be82c0c20bb&hash2=606c7fbd1a52a5fe6f22084951fe4538',
                '2-19': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/19.1080.10fc8b9dcd2f2f80.mp4?hash1=9654510bf19f36ee98e7009bfb48a9e6&hash2=3e49b542c53049b0791eba29687daf05',
                '2-20': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/20.1080.0a2455dc29e7ad4f.mp4?hash1=45055ad0d035d033047243b01ec8558e&hash2=3c66b81f19a9afa47963380717b51661',
                '2-21': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/21.1080.556ad90ff7c15c44.mp4?hash1=6911b1e7a36f952b96970cffd887633f&hash2=5b46661aebfd1e33c40fa7d13f66a1e5',
                '2-22': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/22.1080.c844593218f6d4d2.mp4?hash1=9c77d899e7f4f2b89e834601163fd4fb&hash2=007638bc44ee26c256460ad0f9a2927e',
                '2-23': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/2/23.1080.8d6972d2bfa1dd63.mp4?hash1=9cd1dd4ee34702e9a4102a8ff557f77d&hash2=4fd21bd057b88aeeb5c64adc0917a3d9',
                '2-trailer': 'video_2025-06-14_17-24-54.mp4',

                // Movie 0
                '0-movie': 'https://r250108.yandexwebcache.org/jujutsu-kaisen/film/1.1080.ef15e7bdd4b29e0f.mp4?hash1=133b7ec28adb60d6d42e33dd24e62505&hash2=6a93c9b606e5e56daf068a0254e57b35',
            };
            
            // Current season
            let currentSeason = 1;
            
            // Play video function
            function playVideo(season, episode) {
                const sourceKey = `${season}-${episode}`;
                if (videoSources[sourceKey]) {
                    mainVideo.src = videoSources[sourceKey];
                    videoPlayer.classList.add('active');
                    
                    const playPromise = mainVideo.play();
                    
                    if (playPromise !== undefined) {
                        playPromise.catch(error => {
                            updatePlayPauseIcon();
                        });
                    }
                } else {
                    console.error('Video source not found for key:', sourceKey);
                    alert('Видео для этого эпизода пока недоступно');
                }
            }
            
            // Switch season
            function switchSeason(season) {
                currentSeason = season;
                
                // Update buttons
                seasonBtns.forEach(btn => {
                    if (parseInt(btn.dataset.season) === season) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
                
                // Update content
                seasonContents.forEach(content => {
                    if (parseInt(content.id.replace('season', '')) === season) {
                        content.classList.add('active');
                    } else {
                        content.classList.remove('active');
                    }
                });
            }
            
            // Event listeners for season buttons
            seasonBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    switchSeason(parseInt(btn.dataset.season));
                });
            });
            
            // Event listeners for season 1
            document.getElementById('watchNowBtn1').addEventListener('click', () => playVideo(1, 1));
            document.getElementById('trailerPreview1').addEventListener('click', () => playVideo(1, 'trailer'));
            
            document.getElementById('episodesGrid1').addEventListener('click', (e) => {
                const episodeCard = e.target.closest('.episode-card');
                if (episodeCard) {
                    const episodeNumber = episodeCard.dataset.episode;
                    playVideo(1, episodeNumber);
                }
            });
            
            // Event listeners for season 2
            document.getElementById('watchNowBtn2').addEventListener('click', () => playVideo(2, 1));
            document.getElementById('trailerPreview2').addEventListener('click', () => playVideo(2, 'trailer'));
            
            document.getElementById('episodesGrid2').addEventListener('click', (e) => {
                const episodeCard = e.target.closest('.episode-card');
                if (episodeCard) {
                    const episodeNumber = episodeCard.dataset.episode;
                    playVideo(2, episodeNumber);
                }
            });

            // Event listeners for movie 0
            document.getElementById('watchNowBtn0').addEventListener('click',() => playVideo(0, 'movie'));
            
            // Player controls
            closePlayer.addEventListener('click', () => {
                videoPlayer.classList.remove('active');
                mainVideo.pause();
            });
            
            function updatePlayPauseIcon() {
                playPauseBtn.innerHTML = mainVideo.paused ? '<i class="fas fa-play"></i>' : '<i class="fas fa-pause"></i>';
            }
            
            playPauseBtn.addEventListener('click', () => {
                if (mainVideo.paused) {
                    mainVideo.play();
                } else {
                    mainVideo.pause();
                }
                updatePlayPauseIcon();
            });
            
            muteBtn.addEventListener('click', () => {
                mainVideo.muted = !mainVideo.muted;
                muteBtn.innerHTML = mainVideo.muted ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-up"></i>';
            });
            
            fullscreenBtn.addEventListener('click', () => {
                if (mainVideo.requestFullscreen) {
                    mainVideo.requestFullscreen();
                } else if (mainVideo.webkitRequestFullscreen) {
                    mainVideo.webkitRequestFullscreen();
                } else if (mainVideo.msRequestFullscreen) {
                    mainVideo.msRequestFullscreen();
                }
            });
            
            // Update progress bar
            mainVideo.addEventListener('timeupdate', () => {
                const progressPercent = (mainVideo.currentTime / mainVideo.duration) * 100;
                progress.style.width = `${progressPercent}%`;
                
                // Update time display
                const currentMinutes = Math.floor(mainVideo.currentTime / 60);
                const currentSeconds = Math.floor(mainVideo.currentTime % 60);
                const durationMinutes = Math.floor(mainVideo.duration / 60);
                const durationSeconds = Math.floor(mainVideo.duration % 60);
                
                timeDisplay.textContent = 
                    `${currentMinutes}:${currentSeconds < 10 ? '0' + currentSeconds : currentSeconds} / 
                     ${durationMinutes}:${durationSeconds < 10 ? '0' + durationSeconds : durationSeconds}`;
            });
            
            // Click on progress bar to seek
            progressBar.addEventListener('click', (e) => {
                const pos = (e.pageX - progressBar.getBoundingClientRect().left) / progressBar.offsetWidth;
                mainVideo.currentTime = pos * mainVideo.duration;
            });
            
            // Update play/pause icon when video is paused/played
            mainVideo.addEventListener('play', updatePlayPauseIcon);
            mainVideo.addEventListener('pause', updatePlayPauseIcon);
            
            // Close player when pressing Escape
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && videoPlayer.classList.contains('active')) {
                    videoPlayer.classList.remove('active');
                    mainVideo.pause();
                }
            });

            // Обработка ошибок видео
            mainVideo.addEventListener('error', function() {
                console.error('Error loading video:', mainVideo.src);
                alert('Ошибка загрузки видео. Пожалуйста, попробуйте другой эпизод.');
            });
        });
    </script>
</body>
</html>
